"use strict";(self.webpackChunkdeveloper_docs=self.webpackChunkdeveloper_docs||[]).push([[59250],{15680:(e,t,s)=>{s.d(t,{xA:()=>c,yg:()=>y});var i=s(96540);function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t){if(null==e)return{};var s,i,n=function(e,t){if(null==e)return{};var s,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)s=a[i],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}var r=i.createContext({}),u=function(e){var t=i.useContext(r),s=t;return e&&(s="function"==typeof e?e(t):l(l({},t),e)),s},c=function(e){var t=u(e.components);return i.createElement(r.Provider,{value:t},e.children)},d="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var s=e.components,n=e.mdxType,a=e.originalType,r=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),d=u(s),p=n,y=d["".concat(r,".").concat(p)]||d[p]||g[p]||a;return s?i.createElement(y,l(l({ref:t},c),{},{components:s})):i.createElement(y,l({ref:t},c))}));function y(e,t){var s=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=s.length,l=new Array(a);l[0]=p;var o={};for(var r in t)hasOwnProperty.call(t,r)&&(o[r]=t[r]);o.originalType=e,o[d]="string"==typeof e?e:n,l[1]=o;for(var u=2;u<a;u++)l[u]=s[u];return i.createElement.apply(null,l)}return i.createElement.apply(null,s)}p.displayName="MDXCreateElement"},53201:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>r,contentTitle:()=>l,default:()=>g,frontMatter:()=>a,metadata:()=>o,toc:()=>u});var i=s(58168),n=(s(96540),s(15680));const a={id:"excluding-assets",title:"Excluding Assets From Build",sidebar_label:"Excluding Assets",description:"How to exclude/include individual assets and how to tweak export types",keywords:["exclude","include","assets","export","type","playable","luna"]},l=void 0,o={unversionedId:"playable/optimise-your-builds/excluding-assets",id:"playable/optimise-your-builds/excluding-assets",title:"Excluding Assets From Build",description:"How to exclude/include individual assets and how to tweak export types",source:"@site/docs/playable/optimise-your-builds/excluding-assets.md",sourceDirName:"playable/optimise-your-builds",slug:"/playable/optimise-your-builds/excluding-assets",permalink:"/docs/playable/optimise-your-builds/excluding-assets",draft:!1,tags:[],version:"current",frontMatter:{id:"excluding-assets",title:"Excluding Assets From Build",sidebar_label:"Excluding Assets",description:"How to exclude/include individual assets and how to tweak export types",keywords:["exclude","include","assets","export","type","playable","luna"]},sidebar:"gettingStarted",previous:{title:"Size Breakdown",permalink:"/docs/playable/optimise-your-builds/asset-size-breakdown"},next:{title:"Dynamic Batching",permalink:"/docs/playable/optimise-your-builds/dynamic-batching"}},r={},u=[{value:"How Luna exports using your game scene",id:"how-luna-exports-using-your-game-scene",level:2},{value:"Excluding or including individual assets",id:"excluding-or-including-individual-assets",level:2},{value:"Luna Asset Hints in Project Browser",id:"luna-asset-hints-in-project-browser",level:2},{value:"How to enable",id:"how-to-enable",level:3},{value:"Highlight key",id:"highlight-key",level:3},{value:"Display settings cog for assets",id:"display-settings-cog-for-assets",level:3},{value:"Luna Assets Context Menu",id:"luna-assets-context-menu",level:3},{value:"Next steps",id:"next-steps",level:2}],c={toc:u},d="wrapper";function g(e){let{components:t,...a}=e;return(0,n.yg)(d,(0,i.A)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("p",null,'Similarly to a widespread proverb "the fastest code is the code which does not run", the easiest way to reduce build size is to remove some assets completely. As outlined briefly in the previous section, it is sometimes useful to completely eliminate certain things, especially the ones residing in ',(0,n.yg)("inlineCode",{parentName:"p"},"Resources")," folder so that they don't take space in the build. Luna (and Unity) is unable to do that automatically as user code can always request loading of an asset with ",(0,n.yg)("inlineCode",{parentName:"p"},"Resources.Load")," API with the name constructed dynamically, thus Luna has to keep everything in resources folder. There are a few options available to aid the situation."),(0,n.yg)("h2",{id:"how-luna-exports-using-your-game-scene"},"How Luna exports using your game scene"),(0,n.yg)("p",null,"By default Luna detects all assets in use by the scenes you have selected in the plugin window, this includes: ",(0,n.yg)("strong",{parentName:"p"},"all prefabs, textures, animations and other resources found in the project.")),(0,n.yg)("p",null,"Whilst this strategy often produces undesirably big builds, especially with games which have a lot of assets, it is a preferable starting point because it helps avoid issues caused by misconfiguration and eases debugging of first exports."),(0,n.yg)("p",null,"If you wish to include additional resources you can:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},'Select "Resources" to include the Resources folder'),(0,n.yg)("li",{parentName:"ul"},'Select "Streaming Assets" to include the Streaming Assets folder'),(0,n.yg)("li",{parentName:"ul"},"Manually include specific assets as documented ",(0,n.yg)("a",{parentName:"li",href:"#excluding-or-including-individual-assets"},"here"))),(0,n.yg)("center",null,(0,n.yg)("p",null,(0,n.yg)("img",{alt:"images-medium",src:s(54954).A,width:"2224",height:"1720"}))),(0,n.yg)("p",null,"If you want to start thinning down your build a good place to start is with excluding assets, which is explained below."),(0,n.yg)("h2",{id:"excluding-or-including-individual-assets"},"Excluding or including individual assets"),(0,n.yg)("p",null,"There are instances when more fine control is needed: for instance, you might have 20 prefabs for different levels, but you know your playable ad will only load the first 3. Instead of reorganizing your project structure, you can force Luna to include specific assets or, otherwise, force to exclude specific ones."),(0,n.yg)("p",null,"This can be done simply by navigating to the ",(0,n.yg)("strong",{parentName:"p"},"Assets")," section and the ",(0,n.yg)("strong",{parentName:"p"},"Assets")," tab, and marking an asset or even a whole folder in corresponding parts of the screen:"),(0,n.yg)("center",null,(0,n.yg)("p",null,(0,n.yg)("img",{alt:"images-medium",src:s(85965).A,width:"2224",height:"1720"}))),(0,n.yg)("admonition",{title:"Force-include always wins",type:"info"},(0,n.yg)("p",{parentName:"admonition"},'Please note that "Force Include" section has the highest priority: assets selected there will get into the build along with their dependencies even if they are excluded by all other means.')),(0,n.yg)("h2",{id:"luna-asset-hints-in-project-browser"},"Luna Asset Hints in Project Browser"),(0,n.yg)("p",null,"Playable Plugin also provides a tool that highlights assets in your project window depending on if they have been marked for force-inclusion or force-exclusion."),(0,n.yg)("h3",{id:"how-to-enable"},"How to enable"),(0,n.yg)("p",null,"To enable this tool click the button with the Luna logo along to the left of the project window search bar (circled in the image below)."),(0,n.yg)("p",null,(0,n.yg)("img",{alt:"images-large",src:s(27602).A,width:"870",height:"372"})),(0,n.yg)("h3",{id:"highlight-key"},"Highlight key"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Opaque (solid) Green: Assets currently marked for force-inclusion."),(0,n.yg)("li",{parentName:"ul"},"Opaque (solid) Red: Assets currently marked for force-exclusion."),(0,n.yg)("li",{parentName:"ul"},"Transparent Red: Assets that were excluded in the last build."),(0,n.yg)("li",{parentName:"ul"},"Transparent Green: Assets that were included in the last build."),(0,n.yg)("li",{parentName:"ul"},"Yellow Outline: Assets that were referenced in the previous build, but were not included.")),(0,n.yg)("h3",{id:"display-settings-cog-for-assets"},"Display settings cog for assets"),(0,n.yg)("p",null,"Hitting the alt key (Windows) or the option key (Mac) will toggle showing a settings cog icon on all files in your project window, clicking on these cogs will show you the available Playable Plugin settings that you can configure for that asset (example in the image below)."),(0,n.yg)("p",null,(0,n.yg)("img",{alt:"images-large",src:s(40537).A,width:"1011",height:"372"}),(0,n.yg)("br",null)),(0,n.yg)("h3",{id:"luna-assets-context-menu"},"Luna Assets Context Menu"),(0,n.yg)("p",null,"You can also access options for you assets by the right click menu in Unity; simply right click on an asset and hover over the 'Luna' context menu to expand it and see the available options for that asset (example in the image below)."),(0,n.yg)("p",null,(0,n.yg)("img",{alt:"images-medium",src:s(65405).A,width:"1230",height:"545"}),(0,n.yg)("br",null)),(0,n.yg)("h2",{id:"next-steps"},"Next steps"),(0,n.yg)("p",null,"The previously listed controls should be sufficient to configure any sort of membership of assets within a given project. Please note that Luna export will do its best to avoid broken references and otherwise invalid state: it will propagate inclusion status to any dependencies, i.e. include textures referenced by a material if the material gets it into the build."),(0,n.yg)("p",null,'It is possible, however, to break that. For instance, one can accidentally force-exclude a texture used by a material on the scene that is not a member of "Force Include" section, so excluding the assets must be done with care. Nothing is irreversible, though: Luna will ',(0,n.yg)("em",{parentName:"p"},"never")," delete anything from a Unity project and restoring any previous settings is as easy as checking out a previous version of ",(0,n.yg)("inlineCode",{parentName:"p"},"luna.json")," file shall a developer accidentally break a Luna build by excluding too many assets."),(0,n.yg)("p",null,"If all assets are excluded, but the build size is still undesirably big, it is a good time to try applying specific compression settings to individual items as described in the ",(0,n.yg)("a",{parentName:"p",href:"optimising-assets/overview"},"Optimising Assets")," section."))}g.isMDXComponent=!0},54954:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/settings-basic-export-4825ab41f8e6b748dc74975b4fcc74fd.png"},85965:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/assets-exclude-include-bd2459494bdb8fde45a6ca196bb6eed0.png"},27602:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/highlighter-button-2b8e7a605de60f60855d0e09550a775c.png"},40537:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/highlighter-cog-8e9a7ae709d3cf7cf0f1c1d6ce446e85.png"},65405:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/highlighter-context-menu-6cf78704d95a4ea2466a79e1232574c8.png"}}]);