"use strict";(self.webpackChunkdeveloper_docs=self.webpackChunkdeveloper_docs||[]).push([[65485],{15680:(e,n,r)=>{r.d(n,{xA:()=>c,yg:()=>h});var t=r(96540);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function i(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function a(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?i(Object(r),!0).forEach((function(n){o(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function l(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=t.createContext({}),d=function(e){var n=t.useContext(s),r=n;return e&&(r="function"==typeof e?e(n):a(a({},n),e)),r},c=function(e){var n=d(e.components);return t.createElement(s.Provider,{value:n},e.children)},p="mdxType",g={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},u=t.forwardRef((function(e,n){var r=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=d(r),u=o,h=p["".concat(s,".").concat(u)]||p[u]||g[u]||i;return r?t.createElement(h,a(a({ref:n},c),{},{components:r})):t.createElement(h,a({ref:n},c))}));function h(e,n){var r=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=r.length,a=new Array(i);a[0]=u;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[p]="string"==typeof e?e:o,a[1]=l;for(var d=2;d<i;d++)a[d]=r[d];return t.createElement.apply(null,a)}return t.createElement.apply(null,r)}u.displayName="MDXCreateElement"},76954:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>s,contentTitle:()=>a,default:()=>g,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var t=r(58168),o=(r(96540),r(15680));const i={id:"debug-js",title:"Debugging\xa0JS 101",sidebar_label:"Debugging\xa0JS 101",description:"Learn the basics on how to debug your playable in the browser",keywords:["debug","browser","chrome","dev","tools","playable","luna"]},a=void 0,l={unversionedId:"playable/code/luna-in-browser/debug-js",id:"playable/code/luna-in-browser/debug-js",title:"Debugging\xa0JS 101",description:"Learn the basics on how to debug your playable in the browser",source:"@site/docs/playable/code/luna-in-browser/debug-js.md",sourceDirName:"playable/code/luna-in-browser",slug:"/playable/code/luna-in-browser/debug-js",permalink:"/docs/playable/code/luna-in-browser/debug-js",draft:!1,tags:[],version:"current",frontMatter:{id:"debug-js",title:"Debugging\xa0JS 101",sidebar_label:"Debugging\xa0JS 101",description:"Learn the basics on how to debug your playable in the browser",keywords:["debug","browser","chrome","dev","tools","playable","luna"]},sidebar:"gettingStarted",previous:{title:"End Card Builder",permalink:"/docs/playable/code/interactive-end-card-builder"},next:{title:"JS profiler",permalink:"/docs/playable/code/luna-in-browser/profiler-js"}},s={},d=[{value:"Using Chrome DevTools",id:"using-chrome-devtools",level:2},{value:"Get Started With Debugging",id:"get-started-with-debugging",level:3},{value:"Browser Error Types",id:"browser-error-types",level:3},{value:"Yellow Warnings",id:"yellow-warnings",level:3},{value:"Red Errors",id:"red-errors",level:3},{value:"Using DevTools dev tools.",id:"using-devtools-dev-tools",level:3},{value:"Error Examples",id:"error-examples",level:2},{value:"Luna Browser Error: Example 1",id:"luna-browser-error-example-1",level:3},{value:"Luna Browser Error: Example 2",id:"luna-browser-error-example-2",level:3}],c={toc:d},p="wrapper";function g(e){let{components:n,...i}=e;return(0,o.yg)(p,(0,t.A)({},c,i,{components:n,mdxType:"MDXLayout"}),(0,o.yg)("p",null,"Once you have successfully compiled and exported your project using the Playable Plugin, you will be able to test and review your creative in the browser."),(0,o.yg)("p",null,"A ",(0,o.yg)("strong",{parentName:"p"},(0,o.yg)("a",{parentName:"strong",href:"/docs/playable/setup/develop-build"},"Develop Build"))," is structured in the following way:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("inlineCode",{parentName:"li"},"UnityScriptsCompiler.js")," includes all user scripts, now in JavaScript"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("inlineCode",{parentName:"li"},"index.html")," handles the loading and displaying of the playable content"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("inlineCode",{parentName:"li"},"UnityEngine")," includes our implementation of the Unity Engine API interface"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("inlineCode",{parentName:"li"},"script0")," - ",(0,o.yg)("inlineCode",{parentName:"li"},"script6")," include internal engine code, and are minified")),(0,o.yg)("h2",{id:"using-chrome-devtools"},"Using Chrome DevTools"),(0,o.yg)("p",null,"At times, you may find that you experience JavaScript errors in the browser; errors can be caused for a number of reasons. To successfully understand and fix these errors, we recommend using the Chrome browser and powerful developer tools provided."),(0,o.yg)("p",null,"For more information and guides on DevTools, please refer to the Google Chrome DevTools ",(0,o.yg)("a",{parentName:"p",href:"https://developers.google.com/web/tools/chrome-devtools"},"documentation"),"."),(0,o.yg)("h3",{id:"get-started-with-debugging"},"Get Started With Debugging"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"Build a develop build from Playable Plugin."),(0,o.yg)("li",{parentName:"ol"},"Start the server which will automatically open a tab in your browser.")),(0,o.yg)("admonition",{type:"note"},(0,o.yg)("p",{parentName:"admonition"},"Once opened, you can access Chrome DevTools by pressing ",(0,o.yg)("kbd",null,"command+option+i")," (Mac) or ",(0,o.yg)("kbd",null,"control+shift+i")," (Windows, Linux) to access the console view of the Chrome page to see what's happening under the hood.")),(0,o.yg)("p",null,"Once open you will be presented with a spilt browser that will give a breakdown of the processes from the page. If there is an error it will be shown here."),(0,o.yg)("h3",{id:"browser-error-types"},"Browser Error Types"),(0,o.yg)("h3",{id:"yellow-warnings"},"Yellow Warnings"),(0,o.yg)("p",null,"The scene will run, but these could be things that may have been changed or altered during the conversion to JS. Typically, these shouldn't be any cause for concern, but of course you should review them, if these are the only messages, in case unintended problems occur."),(0,o.yg)("h3",{id:"red-errors"},"Red Errors"),(0,o.yg)("p",null,"These are runtime failures - usually it's easy to identify which code is the problem. Typically, you can click the error and be presented with more information including a stack trace in Chrome dev tools. See below for more information."),(0,o.yg)("h3",{id:"using-devtools-dev-tools"},"Using DevTools dev tools."),(0,o.yg)("p",null,"When debugging in Chrome, you will commonly use the ",(0,o.yg)("strong",{parentName:"p"},"Sources")," tab."),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"images-medium",src:r(90377).A,width:"2328",height:"1874"})),(0,o.yg)("p",null,"Let's look at each panel in the Chrome window to see what each section is used for and how to navigate it."),(0,o.yg)("p",null,"You can quickly open converted user code in the browser by typing ",(0,o.yg)("kbd",null,"command+shift+p")," and typing ",(0,o.yg)("inlineCode",{parentName:"p"},"UnityScriptsCompiler")," and pressing enter. As mentioned above, ",(0,o.yg)("inlineCode",{parentName:"p"},"UnityScriptsCompiler.js")," includes all user scripts."),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"The File Navigator panel is on the left. Every file that the page requests is listed here. Clicking on a file will show the contents of the file."),(0,o.yg)("li",{parentName:"ol"},"The Code Editor panel is in the centre. After selecting a file in the File Navigator panel, the contents of that file are displayed here."),(0,o.yg)("li",{parentName:"ol"},"The JavaScript Debugging panel includes various tools for inspecting the page's JavaScript.")),(0,o.yg)("h2",{id:"error-examples"},"Error Examples"),(0,o.yg)("h3",{id:"luna-browser-error-example-1"},"Luna Browser Error: Example 1"),(0,o.yg)("p",null,"Here is an example error that you may encounter when using Luna, and how you can debug this using Chrome DevTools."),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"images-large",src:r(45284).A,width:"1772",height:"432"})),(0,o.yg)("p",null,"The error and partial stack trace is printed to the console in DevTools. This is helpful in determining where in the compiled JavaScript code your error occurred.\nIn the above example, the stack trace touches multiple script and also touches ",(0,o.yg)("inlineCode",{parentName:"p"},"UnityScriptsCompiler.js")," which contains all the converted (C#) user code."),(0,o.yg)("p",null,"Clicking the ",(0,o.yg)("inlineCode",{parentName:"p"},"UnityScriptsCompiler.js")," link in the stack trace will open this file and highlight the relevant line of code which you can use to trace where the error originated."),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"images-large",src:r(58299).A,width:"1808",height:"944"})),(0,o.yg)("admonition",{type:"note"},(0,o.yg)("p",{parentName:"admonition"},"A good way to see where the problem code exists in your C# code, is via the code editor pane of the Chrome DevTools. The converted code from C# scripts are commented above the section it resides within.  ")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-cs"},"/*LunaConroller.Start start.*/\nStart: funtion() {\n  this.rigidody.useGravity = false;\n},\n/*LunaConroller.Start end.*/\n")),(0,o.yg)("p",null,"Once identified it should provide you with an idea of what to fix. In this case we can see the ",(0,o.yg)("inlineCode",{parentName:"p"},"Rigidbody")," is set to null. The solution is to make sure we have a ",(0,o.yg)("inlineCode",{parentName:"p"},"Rigidbody")," attached to our object in Unity."),(0,o.yg)("h3",{id:"luna-browser-error-example-2"},"Luna Browser Error: Example 2"),(0,o.yg)("p",null,"A common error in the browser when using Luna is a ",(0,o.yg)("inlineCode",{parentName:"p"},"ctor")," error message. This can occur when scripts are attempting to call a constructor method from a script that might not be included in the build, is being called in the wrong execution order or is an un-implemented method."),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"images-large",src:r(63837).A,width:"1768",height:"176"})),(0,o.yg)("p",null,"When debugging this, it's helpful to identify where this code is being called from the user code. A few common things to consider for ",(0,o.yg)("inlineCode",{parentName:"p"},"ctor")," errors:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Is the call is in a script that may have been excluded?"),(0,o.yg)("li",{parentName:"ul"},"Is the call being made in the right execution order?"),(0,o.yg)("li",{parentName:"ul"},"Is the method implemented method in Luna?")),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"images-large",src:r(41218).A,width:"1820",height:"398"})),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"images-large",src:r(4054).A,width:"2032",height:"948"})),(0,o.yg)("p",null,"In this example we can check the code by following the stack trace and identifying that the error originated in the ",(0,o.yg)("inlineCode",{parentName:"p"},"Awake")," method from our converted C# code (which as mentioned before is contained in ",(0,o.yg)("inlineCode",{parentName:"p"},"UnityScriptsCompiler.js"),")."),(0,o.yg)("p",null,"At the top of the stack trace there is also an ",(0,o.yg)("inlineCode",{parentName:"p"},"UnityEngine.js")," call, which defines Luna's implementation of the Unity engine. As shown in the second image above we can see that the method being used in the ",(0,o.yg)("inlineCode",{parentName:"p"},"Awake")," method is not yet implemented in Luna."),(0,o.yg)("p",null,"In most cases, it is simple to work around an un-implemented method. Here, ",(0,o.yg)("inlineCode",{parentName:"p"},"Screen.currentResolution")," can be replaced with a method that gets the resolution of the screen by using ",(0,o.yg)("inlineCode",{parentName:"p"},"Screen.width")," and ",(0,o.yg)("inlineCode",{parentName:"p"},"Screen.height"),", which are supported methods in Luna."))}g.isMDXComponent=!0},63837:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/console-ctor-error-eb906534e55ceea0023ea1c90c83e4eb.png"},45284:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/console-null-error-6b4cb9e85a6b7888f2d0bc8e635acd5d.png"},41218:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/ctor-error-highlight-3aa098c839f9b0d6fcf1505a26744c95.png"},4054:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/ctor-error-stack-trace-4d5131daef42046d847deaced12d94a9.png"},90377:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/debug-panels-3a418239a6d483f95c5036dafc012c11.png"},58299:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/stack-trace-highlight-9158b6325c0dea1460a9421ed431f61d.png"}}]);