"use strict";(self.webpackChunkdeveloper_docs=self.webpackChunkdeveloper_docs||[]).push([[91898],{15680:(e,n,a)=>{a.d(n,{xA:()=>p,yg:()=>g});var t=a(96540);function i(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function o(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function r(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?o(Object(a),!0).forEach((function(n){i(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function l(e,n){if(null==e)return{};var a,t,i=function(e,n){if(null==e)return{};var a,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||(i[a]=e[a]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=t.createContext({}),c=function(e){var n=t.useContext(s),a=n;return e&&(a="function"==typeof e?e(n):r(r({},n),e)),a},p=function(e){var n=c(e.components);return t.createElement(s.Provider,{value:n},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},u=t.forwardRef((function(e,n){var a=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(a),u=i,g=d["".concat(s,".").concat(u)]||d[u]||m[u]||o;return a?t.createElement(g,r(r({ref:n},p),{},{components:a})):t.createElement(g,r({ref:n},p))}));function g(e,n){var a=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=a.length,r=new Array(o);r[0]=u;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[d]="string"==typeof e?e:i,r[1]=l;for(var c=2;c<o;c++)r[c]=a[c];return t.createElement.apply(null,r)}return t.createElement.apply(null,a)}u.displayName="MDXCreateElement"},74076:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>s,contentTitle:()=>r,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var t=a(58168),i=(a(96540),a(15680));const o={id:"animation-baking",title:"Animation Baking",sidebar_label:"Animation Baking",description:"How to convert avatar animations to generic using the free external plugin Animation baker in order to avoid build failures.",keywords:["animation","avatar","generic","convert","playable","luna"]},r=void 0,l={unversionedId:"playable/code/animation-baking",id:"playable/code/animation-baking",title:"Animation Baking",description:"How to convert avatar animations to generic using the free external plugin Animation baker in order to avoid build failures.",source:"@site/docs/playable/code/animation-baking.md",sourceDirName:"playable/code",slug:"/playable/code/animation-baking",permalink:"/docs/playable/code/animation-baking",draft:!1,tags:[],version:"current",frontMatter:{id:"animation-baking",title:"Animation Baking",sidebar_label:"Animation Baking",description:"How to convert avatar animations to generic using the free external plugin Animation baker in order to avoid build failures.",keywords:["animation","avatar","generic","convert","playable","luna"]},sidebar:"gettingStarted",previous:{title:"SpectorJS",permalink:"/docs/playable/code/luna-in-browser/spector-js"},next:{title:"Luna Terrain Exporter",permalink:"/docs/playable/code/luna-terrain-exporter"}},s={},c=[{value:"Using the Animation baker plugin",id:"using-the-animation-baker-plugin",level:2},{value:"Import Animation baker into your Unity Project.",id:"import-animation-baker-into-your-unity-project",level:3},{value:"Preparing the animation",id:"preparing-the-animation",level:3},{value:"Animation Size",id:"animation-size",level:3}],p={toc:c},d="wrapper";function m(e){let{components:n,...o}=e;return(0,i.yg)(d,(0,t.A)({},p,o,{components:n,mdxType:"MDXLayout"}),(0,i.yg)("p",null,"Animation baking is a technique used to convert animations from avatars, to generic animations.\nCurrently, Luna does not support avatar animations, and so they must be baked in order to be used with the Luna Engine."),(0,i.yg)("p",null,"In order to bake your avatar animations, we recommend animation baker."),(0,i.yg)("h2",{id:"using-the-animation-baker-plugin"},"Using the Animation baker plugin"),(0,i.yg)("p",null,"Animation baker is a free plugin, downloadable from the Unity asset store - use this ",(0,i.yg)("a",{parentName:"p",href:"https://assetstore.unity.com/packages/tools/animation/animation-baker-18217"},"link")),(0,i.yg)("p",null,"To begin using this plugin to convert your Avatar-based animation into animations that are supported by Luna, there are a few steps that are required for you to take:"),(0,i.yg)("h3",{id:"import-animation-baker-into-your-unity-project"},"Import Animation baker into your Unity Project."),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},"Open Window > Animation baker"),(0,i.yg)("li",{parentName:"ol"},"Select the avatar character and click inside the baker window to add it to the character list"),(0,i.yg)("li",{parentName:"ol"},"Select the Animation and click in animation list inside the baker window to add it in"),(0,i.yg)("li",{parentName:"ol"},"Start recording animation")),(0,i.yg)("h3",{id:"preparing-the-animation"},"Preparing the animation"),(0,i.yg)("p",null,"Open up the Animation baker window and start adding in the character and animation."),(0,i.yg)("p",null,(0,i.yg)("img",{alt:"images-small",src:a(23885).A,width:"372",height:"450"})),(0,i.yg)("p",null,"In the example below both the character and animation clips are added inside the Animation baker window from the asset folder. Once you have the characters and animations you can click ",(0,i.yg)("inlineCode",{parentName:"p"},"Start recording")," to begin the capture."),(0,i.yg)("p",null,(0,i.yg)("img",{alt:"images-medium",src:a(30977).A,width:"879",height:"712"})),(0,i.yg)("p",null,"Upon completion of the recording process a new animation clip will be present inside the ",(0,i.yg)("inlineCode",{parentName:"p"},"AnimationBaker > UnityAnimations"),"."),(0,i.yg)("p",null,(0,i.yg)("img",{alt:"images-small",src:a(25909).A,width:"324",height:"99"})),(0,i.yg)("p",null,"Once recording is complete you are happy with the newly created animation, you can add it to the character like a normal animation, using Animation controller and setting up the new animation which can now be used in your Luna builds."),(0,i.yg)("div",{className:"callout warning"},"Before starting a Luna build, navigate inside the Luna UI window > Source code and exclude the animation baker folder. This will exclude only the C# files that would normally cause errors in the build process. This will not exclude the animation clip."),(0,i.yg)("p",null,(0,i.yg)("img",{alt:"images-medium",src:a(93263).A,width:"1112",height:"854"})),(0,i.yg)("h3",{id:"animation-size"},"Animation Size"),(0,i.yg)("p",null,"Recording the animation with keyframes can also bloat the size of the animation, due to the number of keyframes required."),(0,i.yg)("p",null,"There are some things to consider in order to help reduce its size:"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},"In the Animation baker window, ",(0,i.yg)("inlineCode",{parentName:"li"},"Recording options")," you can incrementally reduce the ",(0,i.yg)("inlineCode",{parentName:"li"},"Samples")," count.")),(0,i.yg)("p",null,(0,i.yg)("img",{alt:"images-small",src:a(49881).A,width:"325",height:"211"})),(0,i.yg)("p",null,"Depending on how low you go it will reduce the amount of keyframes used in the animation clip. In turn this will also reduce its size."),(0,i.yg)("div",{className:"callout warning"},"Keep in mind that lowering the sample count will also lower the animation quality."),(0,i.yg)("ol",{start:2},(0,i.yg)("li",{parentName:"ol"},"Options Checked for root constraints and baked options can also inflate the size of the animation clip.")))}m.isMDXComponent=!0},25909:(e,n,a)=>{a.d(n,{A:()=>t});const t=a.p+"assets/images/animation-folder-79a39050a723b6cf4bdb3647c96bd42e.png"},49881:(e,n,a)=>{a.d(n,{A:()=>t});const t=a.p+"assets/images/animation-sample-count-412a835c4f092d3a3ec24743462b1455.png"},93263:(e,n,a)=>{a.d(n,{A:()=>t});const t=a.p+"assets/images/animation-baker-exclude-61a9408b1c4234b63d8a42f792436ec1.png"},23885:(e,n,a)=>{a.d(n,{A:()=>t});const t=a.p+"assets/images/animation-baker-open-05508158105c599915f112e008390887.png"},30977:(e,n,a)=>{a.d(n,{A:()=>t});const t=a.p+"assets/images/animation-baker-window-e2fd67409edce601ebece4fa26c57e7f.png"}}]);