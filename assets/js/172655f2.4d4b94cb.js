"use strict";(self.webpackChunkdeveloper_docs=self.webpackChunkdeveloper_docs||[]).push([[85513],{15680:(e,a,t)=>{t.d(a,{xA:()=>d,yg:()=>m});var n=t(96540);function l(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){l(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function i(e,a){if(null==e)return{};var t,n,l=function(e,a){if(null==e)return{};var t,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var s=n.createContext({}),u=function(e){var a=n.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},d=function(e){var a=u(e.components);return n.createElement(s.Provider,{value:a},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},y=n.forwardRef((function(e,a){var t=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),p=u(t),y=l,m=p["".concat(s,".").concat(y)]||p[y]||c[y]||r;return t?n.createElement(m,o(o({ref:a},d),{},{components:t})):n.createElement(m,o({ref:a},d))}));function m(e,a){var t=arguments,l=a&&a.mdxType;if("string"==typeof e||l){var r=t.length,o=new Array(r);o[0]=y;var i={};for(var s in a)hasOwnProperty.call(a,s)&&(i[s]=a[s]);i.originalType=e,i[p]="string"==typeof e?e:l,o[1]=i;for(var u=2;u<r;u++)o[u]=t[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}y.displayName="MDXCreateElement"},19365:(e,a,t)=>{t.d(a,{A:()=>o});var n=t(96540),l=t(20053);const r={tabItem:"tabItem_Ymn6"};function o(e){let{children:a,hidden:t,className:o}=e;return n.createElement("div",{role:"tabpanel",className:(0,l.A)(r.tabItem,o),hidden:t},a)}},11470:(e,a,t)=>{t.d(a,{A:()=>S});var n=t(58168),l=t(96540),r=t(20053),o=t(23104),i=t(56347),s=t(57485),u=t(31682),d=t(89466);function p(e){return function(e){var a,t;return null!=(a=null==(t=l.Children.map(e,(e=>{if(!e||(0,l.isValidElement)(e)&&function(e){const{props:a}=e;return!!a&&"object"==typeof a&&"value"in a}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:t.filter(Boolean))?a:[]}(e).map((e=>{let{props:{value:a,label:t,attributes:n,default:l}}=e;return{value:a,label:t,attributes:n,default:l}}))}function c(e){const{values:a,children:t}=e;return(0,l.useMemo)((()=>{const e=null!=a?a:p(t);return function(e){const a=(0,u.X)(e,((e,a)=>e.value===a.value));if(a.length>0)throw new Error('Docusaurus error: Duplicate values "'+a.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[a,t])}function y(e){let{value:a,tabValues:t}=e;return t.some((e=>e.value===a))}function m(e){let{queryString:a=!1,groupId:t}=e;const n=(0,i.W6)(),r=function(e){let{queryString:a=!1,groupId:t}=e;if("string"==typeof a)return a;if(!1===a)return null;if(!0===a&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=t?t:null}({queryString:a,groupId:t});return[(0,s.aZ)(r),(0,l.useCallback)((e=>{if(!r)return;const a=new URLSearchParams(n.location.search);a.set(r,e),n.replace({...n.location,search:a.toString()})}),[r,n])]}function g(e){const{defaultValue:a,queryString:t=!1,groupId:n}=e,r=c(e),[o,i]=(0,l.useState)((()=>function(e){var a;let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!y({value:t,tabValues:n}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+t+'" but none of its children has the corresponding value. Available values are: '+n.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return t}const l=null!=(a=n.find((e=>e.default)))?a:n[0];if(!l)throw new Error("Unexpected error: 0 tabValues");return l.value}({defaultValue:a,tabValues:r}))),[s,u]=m({queryString:t,groupId:n}),[p,g]=function(e){let{groupId:a}=e;const t=function(e){return e?"docusaurus.tab."+e:null}(a),[n,r]=(0,d.Dv)(t);return[n,(0,l.useCallback)((e=>{t&&r.set(e)}),[t,r])]}({groupId:n}),h=(()=>{const e=null!=s?s:p;return y({value:e,tabValues:r})?e:null})();(0,l.useLayoutEffect)((()=>{h&&i(h)}),[h]);return{selectedValue:o,selectValue:(0,l.useCallback)((e=>{if(!y({value:e,tabValues:r}))throw new Error("Can't select invalid tab value="+e);i(e),u(e),g(e)}),[u,g,r]),tabValues:r}}var h=t(92303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function b(e){let{className:a,block:t,selectedValue:i,selectValue:s,tabValues:u}=e;const d=[],{blockElementScrollPositionUntilNextRender:p}=(0,o.a_)(),c=e=>{const a=e.currentTarget,t=d.indexOf(a),n=u[t].value;n!==i&&(p(a),s(n))},y=e=>{var a;let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{var n;const a=d.indexOf(e.currentTarget)+1;t=null!=(n=d[a])?n:d[0];break}case"ArrowLeft":{var l;const a=d.indexOf(e.currentTarget)-1;t=null!=(l=d[a])?l:d[d.length-1];break}}null==(a=t)||a.focus()};return l.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},a)},u.map((e=>{let{value:a,label:t,attributes:o}=e;return l.createElement("li",(0,n.A)({role:"tab",tabIndex:i===a?0:-1,"aria-selected":i===a,key:a,ref:e=>d.push(e),onKeyDown:y,onClick:c},o,{className:(0,r.A)("tabs__item",f.tabItem,null==o?void 0:o.className,{"tabs__item--active":i===a})}),null!=t?t:a)})))}function v(e){let{lazy:a,children:t,selectedValue:n}=e;const r=(Array.isArray(t)?t:[t]).filter(Boolean);if(a){const e=r.find((e=>e.props.value===n));return e?(0,l.cloneElement)(e,{className:"margin-top--md"}):null}return l.createElement("div",{className:"margin-top--md"},r.map(((e,a)=>(0,l.cloneElement)(e,{key:a,hidden:e.props.value!==n}))))}function w(e){const a=g(e);return l.createElement("div",{className:(0,r.A)("tabs-container",f.tabList)},l.createElement(b,(0,n.A)({},e,a)),l.createElement(v,(0,n.A)({},e,a)))}function S(e){const a=(0,h.A)();return l.createElement(w,(0,n.A)({key:String(a)},e))}},47493:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>r,metadata:()=>i,toc:()=>u});var n=t(58168),l=(t(96540),t(15680));t(11470),t(19365);const r={id:"js-sdk",title:"Luna JS SDK Guide",sidebar_label:"Setup via Luna JS SDK",description:"How to use the Luna JS SDK to",keywords:["playable","Creative Suite","create","hub","luna","javascript","external","upload","sdk","overview"]},o=void 0,i={unversionedId:"playable/javascript-playables/js-sdk",id:"playable/javascript-playables/js-sdk",title:"Luna JS SDK Guide",description:"How to use the Luna JS SDK to",source:"@site/docs/playable/javascript-playables/js-sdk.md",sourceDirName:"playable/javascript-playables",slug:"/playable/javascript-playables/js-sdk",permalink:"/docs/playable/javascript-playables/js-sdk",draft:!1,tags:[],version:"current",frontMatter:{id:"js-sdk",title:"Luna JS SDK Guide",sidebar_label:"Setup via Luna JS SDK",description:"How to use the Luna JS SDK to",keywords:["playable","Creative Suite","create","hub","luna","javascript","external","upload","sdk","overview"]},sidebar:"gettingStarted",previous:{title:"Setup Manually",permalink:"/docs/playable/javascript-playables/setup"},next:{title:"Playground Fields",permalink:"/docs/playable/javascript-playables/playground-fields"}},s={},u=[{value:"Setup",id:"setup",level:2},{value:"1. Include the Script",id:"1-include-the-script",level:3},{value:"2. Implement setStartGame (If you don&#39;t have a similar global function)",id:"2-implement-setstartgame-if-you-dont-have-a-similar-global-function",level:3},{value:"3. <strong>(Optional)</strong> Add dynamic fields",id:"3-optional-add-dynamic-fields",level:3},{value:"4. <strong>(Optional)</strong> Add Custom Events",id:"4-optional-add-custom-events",level:3},{value:"5. <strong>(Optional depending on Network)</strong> Call Luna.Unity.LifeCycle.GameEnded()",id:"5-optional-depending-on-network-call-lunaunitylifecyclegameended",level:3},{value:"6. Implement Luna.Unity.Playable.InstallFullGame()",id:"6-implement-lunaunityplayableinstallfullgame",level:3},{value:"7. Download your PG ready playable",id:"7-download-your-pg-ready-playable",level:3},{value:"Asset Exportation",id:"asset-exportation",level:2}],d={toc:u},p="wrapper";function c(e){let{components:a,...r}=e;return(0,l.yg)(p,(0,n.A)({},d,r,{components:a,mdxType:"MDXLayout"}),(0,l.yg)("p",null,"The Luna JavaScript SDK is a free tool that streamlines the process of readying a JS playable for ",(0,l.yg)("a",{parentName:"p",href:"../playground/overview"},"Creative Suite"),"."),(0,l.yg)("h2",{id:"setup"},"Setup"),(0,l.yg)("h3",{id:"1-include-the-script"},"1. Include the Script"),(0,l.yg)("p",null,"First you will need to add it as a script to your html file as: ",(0,l.yg)("inlineCode",{parentName:"p"},'src="https://code.lunalabs.io/js-sdk/v0.0.10/index.js"'),"."),(0,l.yg)("div",{className:"callout warning"},"Make sure to add the Luna SDK before any other scripts in your html file."),(0,l.yg)("p",null,"You can also change the version number in the URL to match the latest version of the JS SDK available."),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Latest Version:")," v0.0.10"),(0,l.yg)("h3",{id:"2-implement-setstartgame-if-you-dont-have-a-similar-global-function"},"2. Implement setStartGame (If you don't have a similar global function)"),(0,l.yg)("p",null,"Next you will need to make sure you have a global start game function in your game:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"window.startGame = () => {\n  // your game initialization here\n};\n")),(0,l.yg)("h3",{id:"3-optional-add-dynamic-fields"},"3. ",(0,l.yg)("strong",{parentName:"h3"},"(Optional)")," Add dynamic fields"),(0,l.yg)("p",null,"Example:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'Luna.setFields({\n  fieldExample: {\n    int: 2, // acceptable type names are: int, float, string, boolean, color, vector2, vector3, vector4, enum, "float[]", "int[]", "string[]", "boolean[]", "color[]", "vector2[]", "vector3[]", "vector4[]", "enum[]"\n    title: \'Field Example\', // title of field on Creative Suite\n    section: \'Settings\', // (Optional) The group in which to show on Creative Suite\n    options: [\'Hello\', \'Hi\'], // (Optional) Used only by enums to set the different values it can have\n    min: 0, // (Optional) used for numbers to set the min value on Creative Suite\n    max: 10, // (Optional) used for numbers to set the max value on Creative Suite\n    step: 2, // (Optional) used for numbers to set the increment value on Creative Suite\n    minLength: 2, // (Optional) used for arrays to set the min length of the array on Creative Suite\n    maxLength: 2 // (Optional) used for arrays to set the max length of the array on Creative Suite\n  },\n  secondExample: { enum: 2, options: [\'Hello\', \'Hi\'] },\n  thirdExample: { \'boolean[]\': [true, false] },\n  forthExample: { color: \'rgb(255,255,255)\' }\n});\n')),(0,l.yg)("p",null,"The value of a vector2, vector3 or vector4 needs to be an array with the ",(0,l.yg)("inlineCode",{parentName:"p"},"x,y,z,w")," values as elements."),(0,l.yg)("p",null,"Enum values can either be the string value or the index number."),(0,l.yg)("p",null,"Color can be either an array with the following formats: ",(0,l.yg)("inlineCode",{parentName:"p"},"[r,g,b,a]"),", ",(0,l.yg)("inlineCode",{parentName:"p"},"rgba(255,255,255,0.1)"),", ",(0,l.yg)("inlineCode",{parentName:"p"},"rgba(255,255,255)"),"."),(0,l.yg)("p",null,"Alternatively you could use a hex code: ",(0,l.yg)("inlineCode",{parentName:"p"},"#ff00ff55"),", or one without an alpha value: ",(0,l.yg)("inlineCode",{parentName:"p"},"#ff00ff"),"."),(0,l.yg)("p",null,"You can then use these fields in your game by calling them, for example:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"Luna.getField('fieldExample', 2);\nLuna.getField('forthExample', '#ff00ff', 'hex');\n")),(0,l.yg)("p",null,"The 1st parameter of the function is the field name, the 2nd is the default value, and the 3rd is the format."),(0,l.yg)("div",{className:"callout info"},'For now we only support formatting colors, so the following formats are acceptable: "rgba" | "rgb" | "hex" | "hex6"'),(0,l.yg)("h3",{id:"4-optional-add-custom-events"},"4. ",(0,l.yg)("strong",{parentName:"h3"},"(Optional)")," Add Custom Events"),(0,l.yg)("p",null,"You can add custom events by using ",(0,l.yg)("inlineCode",{parentName:"p"},"window.pi.logCustomEvent"),"."),(0,l.yg)("p",null,"E.g.:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"window.pi.logCustomEvent('LevelStarted');\nwindow.pi.logCustomEvent('EnemyDestroyed', 4);\n")),(0,l.yg)("h3",{id:"5-optional-depending-on-network-call-lunaunitylifecyclegameended"},"5. ",(0,l.yg)("strong",{parentName:"h3"},"(Optional depending on Network)")," Call Luna.Unity.LifeCycle.GameEnded()"),(0,l.yg)("p",null,"Some Ad Networks require to know when a game has ended, so at the end of the game you need to call: ",(0,l.yg)("inlineCode",{parentName:"p"},"Luna.Unity.LifeCycle.GameEnded()"),"."),(0,l.yg)("h3",{id:"6-implement-lunaunityplayableinstallfullgame"},"6. Implement Luna.Unity.Playable.InstallFullGame()"),(0,l.yg)("p",null,(0,l.yg)("inlineCode",{parentName:"p"},"Luna.Unity.Playable.InstallFullGame()")," needs to be called at the end of the gameplay cycle."),(0,l.yg)("p",null,"You can also:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},"Set the title of the game on Creative Suite by calling: ",(0,l.yg)("inlineCode",{parentName:"li"},'Luna.setTitle("My Game");')),(0,l.yg)("li",{parentName:"ul"},"Set the icon of the game by calling: ",(0,l.yg)("inlineCode",{parentName:"li"},'Luna.setIcon("./my_logo.png");')," (You can also use a link to an image online)")),(0,l.yg)("h3",{id:"7-download-your-pg-ready-playable"},"7. Download your PG ready playable"),(0,l.yg)("p",null,"Once all the necessary previous steps are done, you can click on the Luna button located in the bottom right of your game. (Circled in the image below)"),(0,l.yg)("p",null,(0,l.yg)("img",{alt:"images-medium",src:t(3910).A,width:"1122",height:"859"})," ",(0,l.yg)("br",null)),(0,l.yg)("p",null,"This will export a zip for you that you can upload to Creative Suite."),(0,l.yg)("p",null,"To upload:"),(0,l.yg)("ol",null,(0,l.yg)("li",{parentName:"ol"},"Login to Creative Suite"),(0,l.yg)("li",{parentName:"ol"},"Navigate to the Playable Apps section under the Playable dropdown menu"),(0,l.yg)("li",{parentName:"ol"},"Click 'Browse' and select your zip (or drag and drop it in)")),(0,l.yg)("p",null,(0,l.yg)("img",{alt:"images-medium",src:t(96084).A,width:"1510",height:"1031"})," ",(0,l.yg)("br",null)),(0,l.yg)("h2",{id:"asset-exportation"},"Asset Exportation"),(0,l.yg)("ol",null,(0,l.yg)("li",{parentName:"ol"},"Playcanvas (Latest version):\nThe Luna JS SDK patches most of the Playcanvas handlers. Meaning you should be able to load your assets normally, and when exporting the SDK will grab and include your assets inside the zip."),(0,l.yg)("li",{parentName:"ol"},"Pixi (Latest version):\nThe Luna JS SDK patches the Pixi loader and ",(0,l.yg)("inlineCode",{parentName:"li"},"PIXI.Texture.from()"),". Meaning you should be able to load your assets normally, and when exporting the SDK will grab and include your assets inside the zip."),(0,l.yg)("li",{parentName:"ol"},"ThreeJS (Latest version):\nThe Luna JS SDK patches most of the Playcanvas loaders. Meaning you should be able to load your assets normally, and when exporting the SDK will grab and include your assets inside the zip."),(0,l.yg)("li",{parentName:"ol"},"Custom loader\nAt the moment there is only a basic loader implementation so you can do:")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"Luna.addAssets(['./data/img.png', './jsons/data.json']);\n")),(0,l.yg)("p",null,"To get the asset you can do:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"const asset = await Luna.geAsset('./data/img.png');\nconst arrayBuffer = await asset.arrayBuffer(); // to get the asset as an array buffer\nconst blob = await asset.blob(); // to get the asset as a blob\nconst text = await asset.text(); // to get the asset as text\nconst json = await asset.json(); // to get the asset as  a json\n")),(0,l.yg)("p",null,"Alternatively you can cache all your assets as base 64 inside your js code, and get them from there."))}c.isMDXComponent=!0},96084:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/build-uploaded-d3a66497b12191d5a289017458ba0f3b.png"},3910:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/jsSDK-button-82f80f0828d4ba5ab8d4709c278e75bf.jpg"}}]);