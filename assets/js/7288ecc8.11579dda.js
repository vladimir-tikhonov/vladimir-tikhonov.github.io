"use strict";(self.webpackChunkdeveloper_docs=self.webpackChunkdeveloper_docs||[]).push([[54865],{15680:(e,t,n)=>{n.d(t,{xA:()=>p,yg:()=>y});var r=n(96540);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},g=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(n),g=o,y=u["".concat(s,".").concat(g)]||u[g]||d[g]||a;return n?r.createElement(y,i(i({ref:t},p),{},{components:n})):r.createElement(y,i({ref:t},p))}));function y(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=g;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:o,i[1]=l;for(var c=2;c<a;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}g.displayName="MDXCreateElement"},39939:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var r=n(58168),o=(n(96540),n(15680));const a={id:"zenject",title:"Zenject",sidebar_label:"Zenject",description:"How to get Zenject working with Playable Plugin",keywords:["zenject","playable","luna"]},i=void 0,l={unversionedId:"playable/code/unity-plugins/zenject",id:"playable/code/unity-plugins/zenject",title:"Zenject",description:"How to get Zenject working with Playable Plugin",source:"@site/docs/playable/code/unity-plugins/zenject.md",sourceDirName:"playable/code/unity-plugins",slug:"/playable/code/unity-plugins/zenject",permalink:"/docs/playable/code/unity-plugins/zenject",draft:!1,tags:[],version:"current",frontMatter:{id:"zenject",title:"Zenject",sidebar_label:"Zenject",description:"How to get Zenject working with Playable Plugin",keywords:["zenject","playable","luna"]},sidebar:"gettingStarted",previous:{title:"DOTween",permalink:"/docs/playable/code/unity-plugins/dotween"},next:{title:"Spine",permalink:"/docs/playable/code/unity-plugins/spine"}},s={},c=[],p={toc:c},u="wrapper";function d(e){let{components:t,...a}=e;return(0,o.yg)(u,(0,r.A)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("div",{className:"callout info"},"Luna supports Zenject up to version ",(0,o.yg)("b",null,"8.0.0"),"."),(0,o.yg)("div",{className:"callout info"},"Luna doesn't support DLL versions of plugins so it is required to include the C# source files inside your project."),(0,o.yg)("p",null,"This guide is for developers who are using Zenject in their Unity projects as DLLs."),(0,o.yg)("hr",null),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"Download or clone the Zenject source code on ",(0,o.yg)("a",{parentName:"li",href:"https://github.com/modesttree/Zenject"},"GitHub"),"."),(0,o.yg)("li",{parentName:"ol"},"Move the Zenject source files located inside ",(0,o.yg)("inlineCode",{parentName:"li"},"Zenject-master > UnityProject > Assets > Plugins > Zenject")," outside ",(0,o.yg)("inlineCode",{parentName:"li"},"Zenject-master"),".")),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"images-small",src:n(27707).A,width:"1082",height:"622"})),(0,o.yg)("ol",{start:3},(0,o.yg)("li",{parentName:"ol"},"You will receive some console errors that need resolving but don't worry, these are caused by DLL usages requests within the plugin.\nTo clear the errors you will need to remove then replace ",(0,o.yg)("inlineCode",{parentName:"li"},"Zenject > Source > Usage")," folder contents (containing the DLL) with the contents of ",(0,o.yg)("inlineCode",{parentName:"li"},"Zenject-master > AssemblyBuild > Zenject-usage")," with is the source files.")),(0,o.yg)("p",null,"Remove the DLL usage:"),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"images-small",src:n(61869).A,width:"1080",height:"1368"})),(0,o.yg)("p",null,"Move the source usage"),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"images-small",src:n(29859).A,width:"1082",height:"1376"})),(0,o.yg)("ol",{start:4},(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"Once this is done you can remove the ",(0,o.yg)("inlineCode",{parentName:"p"},"Zenject-master")," from your project. You can also remove ",(0,o.yg)("inlineCode",{parentName:"p"},"optionalExtras")," from the ",(0,o.yg)("inlineCode",{parentName:"p"},"Zenject")," folder.")),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"The final step will be an invisible build error caused in Luna. This error is caused by a specific script called ",(0,o.yg)("inlineCode",{parentName:"p"},"CachedProvider.cs"),", and the pre-processor directives (",(0,o.yg)("inlineCode",{parentName:"p"},"#if")," and ",(0,o.yg)("inlineCode",{parentName:"p"},"#endif"),"), which can cause build errors in Luna."))),(0,o.yg)("p",null,"To resolve the build compilation failure you should comment out all pre-processors from this script which will allow for a successful build."),(0,o.yg)("p",null,"Example:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-cs"},"List<object> _instance;\n\n// #if ZEN_MULTITHREADING\nreadonly object _locker = new object();\n\n// #else\nbool _isCreatingInstance;\n// #endif\n")),(0,o.yg)("div",{className:"callout info"},"You may need to restart Unity as some errors might be present due to cache."))}d.isMDXComponent=!0},61869:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/move-zenject-source-98d90afd8e1e6d2060f25c010bad55fc.png"},27707:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/move-zenject-b505b9784679501ba6a933526c37c523.png"},29859:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/zenject-usage-f2aad6e4b7577c2f5178a4c4e8736b66.png"}}]);