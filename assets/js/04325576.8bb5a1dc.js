"use strict";(self.webpackChunkdeveloper_docs=self.webpackChunkdeveloper_docs||[]).push([[49257],{15680:(e,t,o)=>{o.d(t,{xA:()=>d,yg:()=>g});var n=o(96540);function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,n,i=function(e,t){if(null==e)return{};var o,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var c=n.createContext({}),s=function(e){var t=n.useContext(c),o=t;return e&&(o="function"==typeof e?e(t):r(r({},t),e)),o},d=function(e){var t=s(e.components);return n.createElement(c.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},y=n.forwardRef((function(e,t){var o=e.components,i=e.mdxType,a=e.originalType,c=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=s(o),y=i,g=u["".concat(c,".").concat(y)]||u[y]||p[y]||a;return o?n.createElement(g,r(r({ref:t},d),{},{components:o})):n.createElement(g,r({ref:t},d))}));function g(e,t){var o=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=o.length,r=new Array(a);r[0]=y;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[u]="string"==typeof e?e:i,r[1]=l;for(var s=2;s<a;s++)r[s]=o[s];return n.createElement.apply(null,r)}return n.createElement.apply(null,o)}y.displayName="MDXCreateElement"},51592:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>p,frontMatter:()=>a,metadata:()=>l,toc:()=>s});var n=o(58168),i=(o(96540),o(15680));const a={id:"code-excludes",title:"Excluding C# code from compilation process",sidebar_label:"Excluding C# code",description:"How to exclude code from your Luna build without needing to delete it from your project",keywords:["playable","luna"]},r=void 0,l={unversionedId:"playable/code/code-excludes",id:"playable/code/code-excludes",title:"Excluding C# code from compilation process",description:"How to exclude code from your Luna build without needing to delete it from your project",source:"@site/docs/playable/code/code-excludes.md",sourceDirName:"playable/code",slug:"/playable/code/code-excludes",permalink:"/docs/playable/code/code-excludes",draft:!1,tags:[],version:"current",frontMatter:{id:"code-excludes",title:"Excluding C# code from compilation process",sidebar_label:"Excluding C# code",description:"How to exclude code from your Luna build without needing to delete it from your project",keywords:["playable","luna"]},sidebar:"gettingStarted",previous:{title:"VS Solution",permalink:"/docs/playable/code/code-solution"},next:{title:"Automatic Stubbing",permalink:"/docs/playable/code/automatic-stubbing"}},c={},s=[{value:"Code Excludes",id:"code-excludes",level:2},{value:"How to configure code excludes",id:"how-to-configure-code-excludes",level:3},{value:"C# Block Excludes",id:"c-block-excludes",level:2},{value:"How to configure code block excludes",id:"how-to-configure-code-block-excludes",level:3}],d={toc:s},u="wrapper";function p(e){let{components:t,...a}=e;return(0,i.yg)(u,(0,n.A)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,i.yg)("p",null,"A playable ads is a short representation of a part of the game; using Luna you can easily take your game an Unity and isolate the features you would like to showcase in the ad experience."),(0,i.yg)("p",null,"When doing this, you may find that parts of your code are no longer required or necessary for the playable experience, and so they should be removed from the compilation process."),(0,i.yg)("p",null,"To do this, you can either exclude and entire script (code excludes) or parts of a script (block excludes)."),(0,i.yg)("h2",{id:"code-excludes"},"Code Excludes"),(0,i.yg)("p",null,"It may be the case when the original, fully-featured game relies on the APIs that are not available in Luna, but the availability of those APIs is not a hard requirement for a playable. For instance, the full version of the game might use Unity's AI system with C# scripts communicating to this system, and the playable creative slice can be easily done without that behaviour."),(0,i.yg)("p",null,"That is the reason Luna UI features an ability to exclude certain folders and files from compilation process as initiated by the developer."),(0,i.yg)("h3",{id:"how-to-configure-code-excludes"},"How to configure code excludes"),(0,i.yg)("p",null,"Luna has a separate tab in the ",(0,i.yg)("strong",{parentName:"p"},"Code")," section named ",(0,i.yg)("strong",{parentName:"p"},"Exclusions"),", which is dedicated to this particular purpose:"),(0,i.yg)("p",null,(0,i.yg)("img",{alt:"luna-ui-code",src:o(31336).A,width:"2224",height:"1720"})),(0,i.yg)("p",null,"Excluding a set of files or an individual file from compilation by Luna is as easy as ticking a checkbox next to a folder or a C# file. This action doesn't alter the Unity project in any way and simply removes the corresponding files from Luna solution."),(0,i.yg)("p",null,"It is a very effective way of quickly reducing the number of build errors if the app relies heavily on third-party libraries (Social SDKs, Ad SDKs and so on)."),(0,i.yg)("div",{className:"callout warning"},(0,i.yg)("strong",null,"IMPORTANT"),(0,i.yg)("br",null),"Make sure to exclude files carefully. Removing scripts that are used in the scene or added to the objects dynamically will not lead to compilation errors but would potentially crash the app in runtime!"),(0,i.yg)("h2",{id:"c-block-excludes"},"C# Block Excludes"),(0,i.yg)("p",null,"Sometimes the logic within existing C# files is crucial for the game to work, but at the same time is heavily interweaved with logic related to things that are unsupported in Luna. This can range from a missing API to (much more likely) third-party libraries' integration. For instance, a C# script responsible for core game logic might contain invocations of an Analytics service."),(0,i.yg)("p",null,"For this particular matter, Luna provides a C# define helping to guard blocks of code when those are compiled by Luna."),(0,i.yg)("h3",{id:"how-to-configure-code-block-excludes"},"How to configure code block excludes"),(0,i.yg)("p",null,"Similarly to ",(0,i.yg)("inlineCode",{parentName:"p"},"UNITY_EDITOR")," define and the like, Luna sets up it's own define, ",(0,i.yg)("inlineCode",{parentName:"p"},"UNITY_LUNA"),". This way, a developer can wrap a block of code using a conditional preprocessor directive to avoid some path of the code from being compiled:"),(0,i.yg)("p",null,(0,i.yg)("img",{alt:"luna-ui-code",src:o(41028).A,width:"475",height:"158"}),(0,i.yg)("br",null),(0,i.yg)("br",null)),(0,i.yg)("p",null,"This define is also enabled in Luna's VS solution, thus hinting to the developer that particular blocks of code will (or will not) take part in compilation process."),(0,i.yg)("p",null,"The ",(0,i.yg)("inlineCode",{parentName:"p"},"UNITY_LUNA")," define can also be used to invoke bits of code ",(0,i.yg)("strong",{parentName:"p"},"only in Luna"),", shall this necessity appear. Although in most cases it is considered a better practice to drive such things using settings of game objects / store flags in a scriptable object / configure via an external file, it might become handy to quickly adjust some parts for Luna only (i.e. load level number 5 instead of 1 if the game is built with Luna)."))}p.isMDXComponent=!0},41028:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/luna-ui-code-blocks-eccb993cc3d04693f24c1e049a8851d3.png"},31336:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/code-exclusions-fafbe838b7679a856ef83138abc7b3d5.png"}}]);