"use strict";(self.webpackChunkdeveloper_docs=self.webpackChunkdeveloper_docs||[]).push([[44690],{15680:(e,t,a)=>{a.d(t,{xA:()=>u,yg:()=>c});var n=a(96540);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),d=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},p="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},y=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),p=d(a),y=r,c=p["".concat(s,".").concat(y)]||p[y]||g[y]||i;return a?n.createElement(c,l(l({ref:t},u),{},{components:a})):n.createElement(c,l({ref:t},u))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=y;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[p]="string"==typeof e?e:r,l[1]=o;for(var d=2;d<i;d++)l[d]=a[d];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}y.displayName="MDXCreateElement"},93319:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>g,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var n=a(58168),r=(a(96540),a(15680));const i={id:"limitations",title:"Limitations in Playable Plugin",sidebar_label:"Limitations",description:"A list of some of the limitations the Luna Engine currently has, and what you can do to work around them.",keywords:["limitations","apis","dlls","unsupported","playable","luna"]},l=void 0,o={unversionedId:"playable/getting-started/limitations",id:"playable/getting-started/limitations",title:"Limitations in Playable Plugin",description:"A list of some of the limitations the Luna Engine currently has, and what you can do to work around them.",source:"@site/docs/playable/getting-started/limitations.md",sourceDirName:"playable/getting-started",slug:"/playable/getting-started/limitations",permalink:"/docs/playable/getting-started/limitations",draft:!1,tags:[],version:"current",frontMatter:{id:"limitations",title:"Limitations in Playable Plugin",sidebar_label:"Limitations",description:"A list of some of the limitations the Luna Engine currently has, and what you can do to work around them.",keywords:["limitations","apis","dlls","unsupported","playable","luna"]},sidebar:"gettingStarted",previous:{title:"Sample Code",permalink:"/docs/playable/getting-started/sample-code"},next:{title:"Rendering Features",permalink:"/docs/playable/getting-started/supported-features/supported-rendering-features"}},s={},d=[{value:"DLLs",id:"dlls",level:2},{value:"What can you do?",id:"what-can-you-do",level:3},{value:"Ads and Analytics SDKs",id:"ads-and-analytics-sdks",level:2},{value:"What can you do?",id:"what-can-you-do-1",level:3},{value:"Avatar Animations",id:"avatar-animations",level:2},{value:"What can you do?",id:"what-can-you-do-2",level:3},{value:"NavMesh",id:"navmesh",level:2},{value:"What can you do?",id:"what-can-you-do-3",level:3},{value:"URP/HDRP",id:"urphdrp",level:2},{value:"What can you do?",id:"what-can-you-do-4",level:3},{value:"Shadows",id:"shadows",level:2},{value:"WebGL / Shader targets",id:"webgl--shader-targets",level:2},{value:"Additive Shaders",id:"additive-shaders",level:3},{value:"Precompiled Shaders",id:"precompiled-shaders",level:3},{value:"Shader Targets",id:"shader-targets",level:3},{value:"Bridge Limitations",id:"bridge-limitations",level:2},{value:"Destructor (~TypeName method)",id:"destructor-typename-method",level:3},{value:"GOTO statement",id:"goto-statement",level:3},{value:"Circular inheritance with interfaces",id:"circular-inheritance-with-interfaces",level:3},{value:"Inline cast",id:"inline-cast",level:3},{value:"Bridge Implemented Features",id:"bridge-implemented-features",level:2},{value:"C# 7.0-7.3 features",id:"c-70-73-features",level:3},{value:"Luna Compiler V2",id:"luna-compiler-v2",level:3},{value:"Lighting",id:"lighting",level:2},{value:"Unity GUI",id:"unity-gui",level:2},{value:"DOTS or ECS",id:"dots-or-ecs",level:2}],u={toc:d},p="wrapper";function g(e){let{components:t,...a}=e;return(0,r.yg)(p,(0,n.A)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("admonition",{type:"info"},(0,r.yg)("p",{parentName:"admonition"},"The Luna engine has been built in-house by the Luna team, with the goal of allowing you to create your playable ads in Unity, and having the same output and experience in the browser."),(0,r.yg)("p",{parentName:"admonition"},"There are a number of hard limitations that comes with this, as well as some APIs which we currently do not support.")),(0,r.yg)("h1",{id:"limitations"},"Limitations"),(0,r.yg)("h2",{id:"dlls"},"DLLs"),(0,r.yg)("p",null,"DLLs are currently unsupported in Luna."),(0,r.yg)("h3",{id:"what-can-you-do"},"What can you do?"),(0,r.yg)("p",null,"Replace the DLL with the plug-in C# source code. C++ plugins are not supported."),(0,r.yg)("h2",{id:"ads-and-analytics-sdks"},"Ads and Analytics SDKs"),(0,r.yg)("p",null,"Ads and Analytics SDKs are not supported in Playable ads, and therefore Luna does not support them."),(0,r.yg)("h3",{id:"what-can-you-do-1"},"What can you do?"),(0,r.yg)("p",null,"You have a few options:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Use ",(0,r.yg)("a",{parentName:"li",href:"/docs/playable/code/automatic-stubbing"},"Automatic Stubbing")," to remove the SDKs from your project."),(0,r.yg)("li",{parentName:"ul"},"Wrap calls to these SDKs using ",(0,r.yg)("inlineCode",{parentName:"li"},"#if !UNITY_LUNA"),"."),(0,r.yg)("li",{parentName:"ul"},"Remove references to the SDKs entirely from your code.")),(0,r.yg)("h2",{id:"avatar-animations"},"Avatar Animations"),(0,r.yg)("p",null,"Avatar-based animations (both generic and humanoid) are not supported."),(0,r.yg)("h3",{id:"what-can-you-do-2"},"What can you do?"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"A work around is to re-bake the animations to target skinned mesh directly.")),(0,r.yg)("h2",{id:"navmesh"},"NavMesh"),(0,r.yg)("p",null,"NavMesh is currently unsupported by Luna - whilst it is on the roadmap, it can be computationally expensive and so an alternative may be preferred for a playable experience."),(0,r.yg)("h3",{id:"what-can-you-do-3"},"What can you do?"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"The A","*"," C# plugin from the asset store is a great alternative, and has been tested by Luna."),(0,r.yg)("li",{parentName:"ul"},"Implement you logic manually in C#."),(0,r.yg)("li",{parentName:"ul"},"Implement node-based Movement.")),(0,r.yg)("h2",{id:"urphdrp"},"URP/HDRP"),(0,r.yg)("p",null,"HDRP is currently unsupported, with no short term plans to add support."),(0,r.yg)("h3",{id:"what-can-you-do-4"},"What can you do?"),(0,r.yg)("p",null,"Use ",(0,r.yg)("a",{parentName:"p",href:"/docs/playable/getting-started/supported-features/urp"},"Universal Render Pipeline")," or Unity's built-in Default render pipeline."),(0,r.yg)("h2",{id:"shadows"},"Shadows"),(0,r.yg)("p",null,(0,r.yg)("a",{parentName:"p",href:"/docs/playable/getting-started/supported-features/luna-rts"},"Shadows are supported")," only for the built-in pipeline."),(0,r.yg)("h2",{id:"webgl--shader-targets"},"WebGL / Shader targets"),(0,r.yg)("h3",{id:"additive-shaders"},"Additive Shaders"),(0,r.yg)("p",null,"While we do support them, problems can arise due to the limitations of using WebGL1: WebGL1 can't handle values greater than 1, or less than 0. So the output will be clamped between these values."),(0,r.yg)("p",null,"E.g. ",(0,r.yg)("inlineCode",{parentName:"p"},"Overlit = White (1,1,1,1) + Red (1,0,0,1)"),". Rather than getting the expected value of (2,1,1,2) it will be clamped to (1,1,1,1)"),(0,r.yg)("p",null,"Please be aware this could lead to unexpected outcomes when performing this type of operation, and the colour seen may not be what you intended."),(0,r.yg)("h3",{id:"precompiled-shaders"},"Precompiled Shaders"),(0,r.yg)("p",null,"Shaders marked with Compiled code: none (Precompiled shaders) are not currently supported.\nUsing such shaders can produce Type error: Cannot read property ",(0,r.yg)("inlineCode",{parentName:"p"},"val")," of null. (on line offsetUnits.val)"),(0,r.yg)("h3",{id:"shader-targets"},"Shader Targets"),(0,r.yg)("p",null,"Luna always initialises WebGL 1.0 context for compatibility reasons (even when WebGL 2.0 is available).\nThis leads to limited support of newer shader features (the exact set varies from device to device due to different vendor-specific extensions available).\nTo make sure Luna is able to utilize all your shader code, please try running the game targeting OpenGL ES 2 API."),(0,r.yg)("h2",{id:"bridge-limitations"},"Bridge Limitations"),(0,r.yg)("p",null,"Luna transpiles C# code to JS with the Bridge.NET library, however Bridge only supports up to C# 7.0. This means features added in later releases (7.1, 7.2 etc.) will likely not be supported in Luna."),(0,r.yg)("p",null,"For a list of C# 7.1+ features that we do support, click ",(0,r.yg)("a",{parentName:"p",href:"#bridge-implemented-features"},"here"),"."),(0,r.yg)("p",null,"Examples of such features, with workarounds for each:"),(0,r.yg)("h3",{id:"destructor-typename-method"},"Destructor (~TypeName method)"),(0,r.yg)("p",null,"Example of unsupported behaviour:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-cs"},"    class myClass {\n        ~myClass() {}\n    }\n")),(0,r.yg)("p",null,"One workaround for this would be to instead use ",(0,r.yg)("inlineCode",{parentName:"p"},"OnDestroy()"),"."),(0,r.yg)("h3",{id:"goto-statement"},"GOTO statement"),(0,r.yg)("p",null,"Example of unsupported behaviour:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-cs"},'switch (n)\n        {\n            case 1:\n                cost += 25;\n                break;\n            case 2:\n                cost += 25;\n                goto case 1;\n            case 3:\n                cost += 50;\n                goto case 1;\n            default:\n                Console.WriteLine("Invalid selection.");\n                break;\n        }\n')),(0,r.yg)("p",null,"One workaround for this is to use functions in place of looping back:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-cs"},"private static void costUp(int n){\n    cost += n * 25;\n}\n\nif (n != null){\n    costUp(n)\n}\n")),(0,r.yg)("p",null,"In other cases it might be better to use recursion in place of goto logic."),(0,r.yg)("h3",{id:"circular-inheritance-with-interfaces"},"Circular inheritance with interfaces"),(0,r.yg)("p",null,"Example of unsupported behaviour:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-cs"},"interface A extends B {}\n\ninterface B extends A {}\n")),(0,r.yg)("p",null,"To workaround this you will need to break such inheritance and rewrite the code without it."),(0,r.yg)("h3",{id:"inline-cast"},"Inline cast"),(0,r.yg)("p",null,"When attempting an inline cast, be sure to have declared the variable prior to casting."),(0,r.yg)("p",null,"However to avoid complications we suggest avoiding inline casting entirely."),(0,r.yg)("p",null,"Example of what to do:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-cs"},"double varDouble = 2.3;\nint varInt;\n\nvarInt = (int) varDouble;\n")),(0,r.yg)("h2",{id:"bridge-implemented-features"},"Bridge Implemented Features"),(0,r.yg)("p",null,"As previously mentioned, Luna transpiles C# code into JavaScript by using Bridge.NET library. Listed below is a list of all the C# 7.0-7.3 features that have been implemented or are planned to be implemented."),(0,r.yg)("admonition",{type:"info"},(0,r.yg)("p",{parentName:"admonition"},"Playable Plugin offers support for C# 7.0 features. Please refer to the ",(0,r.yg)("a",{href:"https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-version-history#c-version-70"},"C# documentation")," to see the differences between the various versions.")),(0,r.yg)("h3",{id:"c-70-73-features"},"C# 7.0-7.3 features"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Feature"),(0,r.yg)("th",{parentName:"tr",align:null},"Support"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"Out variables"),(0,r.yg)("td",{parentName:"tr",align:null},"Supported")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"Tuples and deconstruction"),(0,r.yg)("td",{parentName:"tr",align:null},"Supported")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"Pattern matching"),(0,r.yg)("td",{parentName:"tr",align:null},"Supported")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"Local functions"),(0,r.yg)("td",{parentName:"tr",align:null},"Supported")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"Expanded Expression-bodied members"),(0,r.yg)("td",{parentName:"tr",align:null},"Supported")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"Ref locals and returns"),(0,r.yg)("td",{parentName:"tr",align:null},"Supported")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"Discards"),(0,r.yg)("td",{parentName:"tr",align:null},"Supported")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"Throw expressions"),(0,r.yg)("td",{parentName:"tr",align:null},"Supported")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"Default Literal expressions"),(0,r.yg)("td",{parentName:"tr",align:null},"Supported")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"In modifiers on parameters"),(0,r.yg)("td",{parentName:"tr",align:null},"Supported")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"Non-trailing names arguments"),(0,r.yg)("td",{parentName:"tr",align:null},"Supported")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"== and != with tuple types"),(0,r.yg)("td",{parentName:"tr",align:null},"Supported")))),(0,r.yg)("h3",{id:"luna-compiler-v2"},"Luna Compiler V2"),(0,r.yg)("p",null,"For more information C# 8.0/9.0 features, please check the ",(0,r.yg)("a",{parentName:"p",href:"/docs/playable/code/luna-compiler-v2"},"Luna Compiler V2 guide"),"."),(0,r.yg)("h2",{id:"lighting"},"Lighting"),(0,r.yg)("p",null,"While lighting is supported, there are limitations surrounding the number of lights that have high intensity settings."),(0,r.yg)("p",null,"For example, if you have a light component and set its intensity to 1 and have additional lights in the scene as well, with intensities set to 1 or higher as these lights are summed in Luna causing over lit scenes in your Luna build."),(0,r.yg)("p",null,"This is a limitation of WebGL 1.0."),(0,r.yg)("h2",{id:"unity-gui"},"Unity GUI"),(0,r.yg)("p",null,"Luna does not support the old Unity GUI system."),(0,r.yg)("h2",{id:"dots-or-ecs"},"DOTS or ECS"),(0,r.yg)("p",null,"We don't support Unity DOTs or ECS."))}g.isMDXComponent=!0}}]);